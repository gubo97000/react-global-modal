(function(u,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],d):(u=typeof globalThis<"u"?globalThis:u||self,d(u.ReactGlobalModal={},u.React))})(this,function(u,d){"use strict";var ve=Object.defineProperty;var _e=(u,d,x)=>d in u?ve(u,d,{enumerable:!0,configurable:!0,writable:!0,value:x}):u[d]=x;var N=(u,d,x)=>_e(u,typeof d!="symbol"?d+"":d,x);var x={exports:{}},S={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z;function se(){if(z)return S;z=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function t(r,s,i){var f=null;if(i!==void 0&&(f=""+i),s.key!==void 0&&(f=""+s.key),"key"in s){i={};for(var m in s)m!=="key"&&(i[m]=s[m])}else i=s;return s=i.ref,{$$typeof:o,type:r,key:f,ref:s!==void 0?s:null,props:i}}return S.Fragment=a,S.jsx=t,S.jsxs=t,S}var P={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H;function le(){return H||(H=1,process.env.NODE_ENV!=="production"&&function(){function o(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case F:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case L:return"SuspenseList";case k:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case A:return"Portal";case I:return(e.displayName||"Context")+".Provider";case Y:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return n=e.displayName||null,n!==null?n:o(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return o(e(n))}catch{}}return null}function a(e){return""+e}function t(e){try{a(e);var n=!1}catch{n=!0}if(n){n=console;var c=n.error,p=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return c.call(n,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",p),a(e)}}function r(e){if(e===T)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===W)return"<...>";try{var n=o(e);return n?"<"+n+">":"<...>"}catch{return"<...>"}}function s(){var e=D.A;return e===null?null:e.getOwner()}function i(){return Error("react-stack-top-frame")}function f(e){if(ee.call(e,"key")){var n=Object.getOwnPropertyDescriptor(e,"key").get;if(n&&n.isReactWarning)return!1}return e.key!==void 0}function m(e,n){function c(){te||(te=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",n))}c.isReactWarning=!0,Object.defineProperty(e,"key",{get:c,configurable:!0})}function b(){var e=o(this.type);return re[e]||(re[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function _(e,n,c,p,y,j,B,V){return c=j.ref,e={$$typeof:R,type:e,key:n,props:j,_owner:y},(c!==void 0?c:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:b}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:B}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:V}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function E(e,n,c,p,y,j,B,V){var h=n.children;if(h!==void 0)if(p)if(Re(h)){for(p=0;p<h.length;p++)g(h[p]);Object.freeze&&Object.freeze(h)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else g(h);if(ee.call(n,"key")){h=o(e);var O=Object.keys(n).filter(function(Ee){return Ee!=="key"});p=0<O.length?"{key: someKey, "+O.join(": ..., ")+": ...}":"{key: someKey}",ne[h+p]||(O=0<O.length?"{"+O.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,p,h,O,h),ne[h+p]=!0)}if(h=null,c!==void 0&&(t(c),h=""+c),f(n)&&(t(n.key),h=""+n.key),"key"in n){c={};for(var $ in n)$!=="key"&&(c[$]=n[$])}else c=n;return h&&m(c,typeof e=="function"?e.displayName||e.name||"Unknown":e),_(e,h,j,y,s(),c,B,V)}function g(e){typeof e=="object"&&e!==null&&e.$$typeof===R&&e._store&&(e._store.validated=1)}var v=d,R=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),I=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),be=Symbol.for("react.client.reference"),D=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=Object.prototype.hasOwnProperty,Re=Array.isArray,J=console.createTask?console.createTask:function(){return null};v={"react-stack-bottom-frame":function(e){return e()}};var te,re={},ae=v["react-stack-bottom-frame"].bind(v,i)(),oe=J(r(i)),ne={};P.Fragment=T,P.jsx=function(e,n,c,p,y){var j=1e4>D.recentlyCreatedOwnerStacks++;return E(e,n,c,!1,p,y,j?Error("react-stack-top-frame"):ae,j?J(r(e)):oe)},P.jsxs=function(e,n,c,p,y){var j=1e4>D.recentlyCreatedOwnerStacks++;return E(e,n,c,!0,p,y,j?Error("react-stack-top-frame"):ae,j?J(r(e)):oe)}}()),P}var X;function ie(){return X||(X=1,process.env.NODE_ENV==="production"?x.exports=se():x.exports=le()),x.exports}var l=ie();function q(o){var a,t,r="";if(typeof o=="string"||typeof o=="number")r+=o;else if(typeof o=="object")if(Array.isArray(o)){var s=o.length;for(a=0;a<s;a++)o[a]&&(t=q(o[a]))&&(r&&(r+=" "),r+=t)}else for(t in o)o[t]&&(r&&(r+=" "),r+=t);return r}function w(){for(var o,a,t=0,r="",s=arguments.length;t<s;t++)(o=arguments[t])&&(a=q(o))&&(r&&(r+=" "),r+=a);return r}const ce=({className:o="",actions:a=[]})=>l.jsx("div",{className:`modal-action ${o}`,children:a.map((t,r)=>l.jsx("button",{className:`btn ${t.className}`,onClick:t.onClick,...t.props,children:t.title},r))}),ue=({children:o,className:a="",onBackdropClick:t,hideCloseIcon:r=!1,closeIconComponent:s})=>l.jsxs("div",{className:`modalHeader ${a}`,children:[l.jsx("div",{className:"modal-header-title",children:o}),!r&&(s||l.jsx("div",{className:"close-wrapper",onClick:()=>{t&&t()},children:l.jsx("div",{className:"icon",children:"x"})}))]}),Z=d.forwardRef(({children:o,open:a,className:t="",isCloseable:r=!1,title:s="Modal Header",hideHeader:i=!1,headerComponent:f,headerClassName:m="",actions:b=[],actionClassName:_="",contentClassName:E="",onModalClose:g=()=>{},hideCloseIcon:v=!1,isSlidePane:R=!1,position:A="right",modalSize:T="sm",isDark:C=!1,disableTheme:F=!1,footer:Y,closeIconComponent:I},K)=>{d.useEffect(()=>{if(!F){const k=document.documentElement.getAttributeNames();C&&!k.includes("dark")&&document.documentElement.setAttribute("data-theme","dark"),k.includes("dark")&&!C&&document.documentElement.setAttribute("data-theme","dark")}},[C,F]);const G=w("modal","modal-open",t,{dark:C}),L=w({"modal-wrapper":!R,"slidepane-wrapper":R,right:R&&A==="right",left:R&&A==="left"}),U=w("modal-body",{"w-xs":T==="xs","w-sm":T==="sm","w-md":T==="md","w-lg":T==="lg"},E),W=w("modalContent");return l.jsx("div",{"aria-hidden":!a,"aria-modal":a,className:G,"dark-them":"light",onClick:k=>{k.stopPropagation(),k.target===k.currentTarget&&(k.stopPropagation(),g())},children:l.jsx("div",{className:L,children:l.jsxs("div",{className:W,children:[l.jsx("div",{className:"position",children:i?!v&&l.jsx(l.Fragment,{children:I||l.jsx("div",{className:"close-wrapper close",onClick:()=>{r||g()},children:l.jsx("div",{className:"icon",children:"x"})})}):l.jsx(ue,{className:m,onBackdropClick:g,hideCloseIcon:v,closeIconComponent:I,children:l.jsxs(l.Fragment,{children:[s??null,f??null]})})}),l.jsx("div",{className:U,children:o}),Y&&Y,(b==null?void 0:b.length)>0&&!Y&&l.jsx(ce,{actions:b,className:_})]})})})}),Q=d.forwardRef(({isOpen:o,component:a,props:t,isCloseable:r=!1,onClose:s=()=>{},closeModal:i=()=>{},width:f,customModal:m,...b},_)=>{const E=()=>{r||(i(),s())};return m?l.jsx(m,{open:o||!1,width:f,onModalClose:E,isCloseable:r,...b,ref:_,children:a&&l.jsx(a,{...t,isInModal:!0})}):l.jsx(Z,{open:o||!1,width:f,onModalClose:E,...b,ref:_,children:a&&l.jsx(a,{...t,isInModal:!0})})});class de extends d.Component{constructor(){super(...arguments);N(this,"state",{modals:[]});N(this,"totalIndex",0);N(this,"open",({...t})=>{const r={...t},{modals:s}=this.state;this.totalIndex++,r.isOpen=!0,r.id=this.totalIndex,r.ref||(r.ref=d.createRef()),s.push({...r}),this.setState({modals:s})});N(this,"close",(t=this.state.modals.length-1)=>{const{modals:r}=this.state;setTimeout(()=>{r.splice(t,1),this.setState({modals:r})},200),r[t]&&(r[t].isOpen=!1,this.setState({modals:r}))});N(this,"updateModalProps",({...t},r=this.state.modals.length-1)=>{var f,m;const{modals:s}=this.state,i=(f=s[r])==null?void 0:f.ref;i&&((m=i.current)==null||m.add(t))});N(this,"closeAll",()=>{const{modals:t}=this.state;t.forEach(()=>{setTimeout(()=>{t.splice(t.length-1,1),this.setState({modals:t})},10),t[t.length-1]&&(t[t.length-1].isOpen=!1,this.setState({modals:t}))})})}render(){const{modals:t}=this.state,{customModal:r}=this.props;return t.map((s,i)=>l.jsx(Q,{closeModal:this.close.bind(this),...s,customModal:r},s.id+""+i))}}class M{constructor(){N(this,"_globalModalRef",null)}static setUpModal(a){this._globalModalRef=a}static push({...a}){this._globalModalRef&&this._globalModalRef.open({...a})}static add({props:a,modalIndex:t}){this._globalModalRef&&this._globalModalRef.updateModalProps({...a},t)}static pop(a){this._globalModalRef&&this._globalModalRef.close(a)}static closeAll(){this._globalModalRef&&this._globalModalRef.closeAll()}}const fe=({cancelLabel:o="Cancel",okayLabel:a="Confirm",message:t="AsynConfirmation Modal message",title:r="AsyncConfirmation Modal Title",isClosable:s=!0,confirmationBody:i,confirmationClassName:f="",className:m="",actions:b,footer:_,okyActionProps:E,cancelActionProps:g,...v})=>new Promise(R=>{const A=[{title:a,onClick:()=>{R(!0),M.pop()},className:"btn-primary",...E},{title:o,onClick:()=>{R(!1),M.pop()},className:"btn-error",...g}];M.push({component:i??me,actions:b??A,title:r,isCloseable:s,hideCloseIcon:!0,modalSize:"sm",className:m,footer:_,props:{message:t,confirmationClassName:f},...v})}),me=({message:o,confirmationClassName:a=""})=>{const t=w("confirmation",a);return l.jsx("div",{className:t,children:o})},pe=({title:o="Confirmation Modal Title",cancelLabel:a="Cancel",message:t="Confirmation Modal Message",okayLabel:r="Okay",onCancel:s=()=>{},onOkay:i=()=>{},isCloseable:f=!0,confirmationBody:m,confirmationClassName:b="",className:_="",actions:E,footer:g,okyActionProps:v,cancelActionProps:R,...A})=>{const T=[{title:r,onClick:()=>{i(),M.pop()},className:"btn-primary",...v},{title:a,onClick:()=>{s(),M.pop()},className:"btn-error",...R}];M.push({component:m??he,actions:E??T,title:o,isCloseable:f,hideCloseIcon:!0,modalSize:"sm",className:_,footer:g,props:{message:t,confirmationClassName:b},...A})},he=({message:o,confirmationClassName:a=""})=>{const t=w("confirmation",a);return l.jsx("div",{className:t,children:o})};u.AsyncConfirmationModal=fe,u.ConfirmationModal=pe,u.GlobalModal=M,u.GlobalModalComponent=Q,u.GlobalModalWrapper=de,u.ModalComponent=Z,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})});
